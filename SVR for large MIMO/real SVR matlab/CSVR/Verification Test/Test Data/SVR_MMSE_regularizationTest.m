%% this subroutine plot the figure to show the weight of regularization to
% the regression accuracy of the coefficient vector
%% Parameter setttings
%size of the data set and dimension of the linear function: 30
%epsilon: 0;
%C: 0.5, 1, 10
%tol:1e-3
%SNR=2:2:60

%% SVR 
SVR_half=[0.0565194103, 0.0379502170, 0.0242606473, 0.0177679370, 0.0121378200, 0.0090081467, 0.0072840948, 0.0060604194,...
    0.0059462030, 0.0052330382, 0.0051726333, 0.0048952714, 0.0048907438, 0.0045747993, 0.0045056266, 0.0049815879, ...
    0.0048414685, 0.0047884707, 0.0045960995, 0.0045363804, 0.0045545692, 0.0046774299, 0.0047500743, 0.0047269487, 0.0048315920, 0.0048049019,...
    0.0047515237, 0.0049455589, 0.0046441105, 0.0049382596 ];
SVR_1=[0.0751910198, 0.0536161248, 0.0315329824, 0.0218747250, 0.0152688204, 0.0097868642, 0.0070704491, 0.0054069890, 0.0043779594, 0.0038873642,...
    0.0033999263, 0.0033029666, 0.0029141559, 0.0034006203, 0.0031579424, 0.0031199089, 0.0031486957, 0.0032341160, 0.0029959905, 0.0028684478, 0.0031057701,...
    0.0027383657, 0.0032522202, 0.0030586148, 0.0030329019, 0.0028542711, 0.0030282412, 0.0030134053, 0.0030960773, 0.0029215717];
SVR_10=[0.2402741945, 0.1536062550, 0.0959547727, 0.0657948148, 0.0382327508, 0.0244814050, 0.0165785038, 0.0102634506, 0.0068598356, 0.0043110366,...
    0.0028278478, 0.0020050689, 0.0014694571, 0.0011079173, 0.0009404480, 0.0008864869, 0.0008475004, 0.0008095444, 0.0007857318, 0.0007882345, 0.0007904908,...
    0.0005947380, 0.0006565864, 0.0006077851, 0.0007602370, 0.0008296636, 0.0007459576, 0.0007646142, 0.0007688911, 0.0007927388];




%% MMSE
MMSE_half=[0.0647217004, 0.0540542871, 0.0433394706, 0.0363286486, 0.0296291048, 0.0210285790, 0.0196891092, 0.0156077009, 0.0123232831,...
    0.0096655985, 0.0072984698, 0.0058225025, 0.0046693231, 0.0033330615, 0.0020605653, 0.0018410367, 0.0015130507, 0.0009151611, 0.0004293261,...
    0.0003418612, 0.0002192080, 0.0002406956, 0.0001256598, 0.0000692343, 0.0000715427, 0.0000430746, 0.0000244106, 0.0000107214, 0.0000077923, 0.0000102858];
MMSE_1=[0.0619978495, 0.0567300336, 0.0409001730, 0.0352805813, 0.0303042554, 0.0222822826, 0.0189541812, 0.0139619102, 0.0119115527, 0.0087298774,...
    0.0080153476, 0.0052859346, 0.0047022996, 0.0036689538, 0.0019746184, 0.0022835318, 0.0010193592, 0.0009988158, 0.0005476439, 0.0003055708,...
    0.0003954354, 0.0002167519, 0.0001230214, 0.0001619003, 0.0000600471, 0.0000167627, 0.0000147267, 0.0000122162, 0.0002189039, 0.0000054017];
MMSE_10=[0.0648530860, 0.0522809243, 0.0425859344, 0.0366344600, 0.0279498354, 0.0226104320, 0.0197996388, 0.0147959230, 0.0124535057, 0.0095871225,...
    0.0066861001, 0.0063503710, 0.0040940322, 0.0029895067, 0.0025976326, 0.0014982787, 0.0009428772, 0.0008141103, 0.0005813391, 0.0005002974, 0.0001801114,...
    0.0001248642, 0.0001856225, 0.0000669015, 0.0000433744, 0.0000278095, 0.0000327229, 0.0000322274, 0.0000348164, 0.0000099589];


%% figure plotting
SNR=2:2:60;


figure(1)
plot(SNR, SVR_half, '-*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE'),title('MSE of Regression coefficient vector of SVR and MMSE (C=0.5)');
hold on 
plot(SNR, MMSE_half, '--*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE');
hold on 
legend('SVR', 'MMSE');
hold off

figure(2)
plot(SNR, SVR_1, '-*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE'),title('MSE of Regression coefficient vector of SVR and MMSE (C=1)');
hold on 
plot(SNR, MMSE_1, '--*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE');
hold on 
legend('SVR', 'MMSE');
hold off

figure(3)
plot(SNR, SVR_10, '-*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE'),title('MSE of Regression coefficient vector of SVR and MMSE (C=10)');
hold on 
plot(SNR, MMSE_10, '--*', 'MarkerSize', 5),xlabel('SNR(dB)'), ylabel('MSE');
hold on 
legend('SVR', 'MMSE');
hold off
